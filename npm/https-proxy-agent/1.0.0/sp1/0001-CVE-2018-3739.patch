From 6aa8c2689fefe764be76f3c30693976eac718b32 Mon Sep 17 00:00:00 2001
From: Seal <info@seal.security>
Date: Sun, 24 Sep 2023 14:55:37 +0300
Subject: [PATCH 1/1] Seal Security Hotfix for https-proxy-agent 1.0.0

This patch fixes:
  CVE-2018-3739

For more information see:
  1. https://seal.security
  2. https://github.com/seal-community
  3. https://github.com/TooTallNate/proxy-agents/tree/1.0.0
---
 https-proxy-agent.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/https-proxy-agent.js b/https-proxy-agent.js
index 6baaa9d..93c3ac0 100644
--- a/https-proxy-agent.js
+++ b/https-proxy-agent.js
@@ -193,7 +193,7 @@ function connect (req, opts, fn) {
   var msg = 'CONNECT ' + hostname + ' HTTP/1.1\r\n';
   var auth = proxy.auth;
   if (auth) {
-    msg += 'Proxy-Authorization: Basic ' + new Buffer(auth).toString('base64') + '\r\n';
+    msg += 'Proxy-Authorization: Basic ' + Buffer.from(auth).toString('base64') + '\r\n';
   }
   msg += 'Host: ' + hostname + '\r\n' +
          'Connection: close\r\n' +
-- 

